(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{127:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return l}));var r=n(2),o=n(6),a=(n(0),n(134)),c={id:"AccessingAuth",title:"Accessing the auth object",sidebar_label:"Accessing the auth object"},i={id:"AccessingAuth",isDocsHomePage:!1,title:"Accessing the auth object",description:"Now let's see how we actually access all the properties from the previous chapter. There are a few ways to access all these propeties:",source:"@site/docs/AccessingAuth.md",permalink:"/docs/AccessingAuth",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/AccessingAuth.md",sidebar_label:"Accessing the auth object",sidebar:"someSidebar",previous:{title:"AuthProvider",permalink:"/docs/AuthProvider"},next:{title:"Style Guide",permalink:"/docs/"}},s=[{value:"via Context",id:"via-context",children:[]},{value:"via Refs",id:"via-refs",children:[]}],u={rightToc:s};function l(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Now let's see how we actually access all the properties from the previous chapter. There are a few ways to access all these propeties:"),Object(a.b)("h3",{id:"via-context"},"via Context"),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"AuthProvider")," is mainly built on React's Context API which allows you to access a certain value in any part of an application. There are two ways to access via The Context API:"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},Object(a.b)("strong",{parentName:"li"},"Recommended:")," Each property has its own context object (kls: ",Object(a.b)("inlineCode",{parentName:"li"},"KlsContext")," , superAuthFetch: ",Object(a.b)("inlineCode",{parentName:"li"},"SuperAuthFetchContext")," , and so on...). Each one of these context objects also include a custom hook that returns the property (kls: ",Object(a.b)("inlineCode",{parentName:"li"},"useKls")," , superAuthFetch: ",Object(a.b)("inlineCode",{parentName:"li"},"useSuperAuthFetch")," , and so on...).")),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"const superAuthFetch = useSuperAuthFetch();\n")),Object(a.b)("ol",{start:2},Object(a.b)("li",{parentName:"ol"},Object(a.b)("strong",{parentName:"li"},"Not Recommended:")," You can access the whole auth object via the ",Object(a.b)("inlineCode",{parentName:"li"},"AuthContext")," context object. You can also use the ",Object(a.b)("inlineCode",{parentName:"li"},"useAuth")," hook. ",Object(a.b)("strong",{parentName:"li"},"The reason this method is not recommended is because each time you access this context object, you are recieving the whole object. It is very unlikeky you'll need to access the whole abject. The performance of your application will drop significantly. So please use the first method."))),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"const { superAuthFetch } = useAuth();\n")),Object(a.b)("h3",{id:"via-refs"},"via Refs"),Object(a.b)("p",null,"Another way you can access the auth object is via React's refs. This method is useful if you want to access auth outside of components, like in redux middleware or mobx."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),'import React from \'react\';\nimport { NavigationContainer } from "@react-navigation/native";\nimport { createStackNavigator } from "@react-navigation/stack";\nimport { AuthProvider, createAuthRef } from "@hilma/auth-native";\n\nimport Admin from \'./components/Admin\';\nimport Client from \'./components/Client\';\n\nconst RootStack = createStackNavigator();\n\nexport const authRef = createAuthRef();\n\nconst App = () => (\n    <NavigationContainer>\n        <AuthProvider ref={authRef}>\n            <RootStack.Navigator>\n                <RootStack.Screen name="Admin" component={Admin} />\n                <RootStack.Screen name="Client" component={Client} />\n                <RootStack.Screen name="Login" component={Login} />\n            </RootStack.Navigator>\n        </AuthProvider>\n    </NavigationContainer>\n);\n\nexport default App;\n')),Object(a.b)("p",null,"In the file where you use ",Object(a.b)("inlineCode",{parentName:"p"},"AuthProvider")," import ",Object(a.b)("inlineCode",{parentName:"p"},"createAuthRef")," , invoke the function. this returns a ref object. A ref object is an object that includes one property which is ",Object(a.b)("inlineCode",{parentName:"p"},"current")," . ",Object(a.b)("inlineCode",{parentName:"p"},"current")," holds the value stored in the ref object. In AuthProvider we use forwardRef's to pass the auth object to the provided ref. Now when you want to access the auth object you can export the ref and access the properties via authRef.current:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-jsx"}),"import { authRef } from './App';\n\nclass ErrorStore {\n    async addError() {\n        const [res, err] = await authRef.current.superAuthFetch('....');\n    }\n}\n")))}l.isMDXComponent=!0},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=o.a.createContext({}),l=function(e){var t=o.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=l(e.components);return o.a.createElement(u.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},b=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=l(n),b=r,m=p["".concat(c,".").concat(b)]||p[b]||h[b]||a;return n?o.a.createElement(m,i(i({ref:t},u),{},{components:n})):o.a.createElement(m,i({ref:t},u))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,c=new Array(a);c[0]=b;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,c[1]=i;for(var u=2;u<a;u++)c[u]=n[u];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);